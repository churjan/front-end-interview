# HTML问题

## 目录

* [重排和重绘](#重排和重绘)
* [什么情况会触发重排和重绘](#什么情况会触发重排和重绘)
* [详说Cookie, LocalStorage与SessionStorage](#详说cookie-localstorage与sessionstorage)

### 重排和重绘

1. 部分渲染树（或者整个渲染树）需要重新分析并且节点尺寸需要重新计算。这被称为重排。注意这里至少会有一次重排-初始化页面布局。
1. 由于节点的几何属性发生改变或者由于样式发生改变，例如改变元素背景色时，屏幕上的部分内容需要更新。这样的更新被称为重绘。

[[↑] Back to top](#html问题)

### 什么情况会触发重排和重绘

1. 添加、删除、更新`DOM`节点
1. 通过`display: none`隐藏一个`DOM`节点-触发重排和重绘
1. 通过`visibility: hidden`隐藏一个`DOM`节点-只触发重绘，因为没有几何变化
1. 移动或者给页面中的`DOM`节点添加动画
1. 添加一个样式表，调整样式属性
1. 用户行为，例如调整窗口大小，改变字号，或者滚动。

[[↑] Back to top](#html问题)

### 详说Cookie, LocalStorage与SessionStorage

|特性|Cookie|localStorage|sessionStorage|
|----|----|----|----|
数据的生命期|可设置失效时间，默认是关闭浏览器后失效|除非被清除，否则永久保存|仅在当前会话下有效，关闭页面或浏览器后被清除
存放数据大小|4K左右|一般为5MB|一般为5MB
与服务器端通信|每次都会携带在HTTP头中，如果使用cookie保存过多数据会带来性能问题|仅在客户端（即浏览器）中保存，不参与和服务器的通信|仅在客户端（即浏览器）中保存，不参与和服务器的通信
易用性|需要程序员自己封装，源生的Cookie接口不友好|源生接口可以接受，亦可再次封装来对Object和Array有更好的支持|源生接口可以接受，亦可再次封装来对Object和Array有更好的支持

参考:  
https://segmentfault.com/a/1190000002723469

[[↑] Back to top](#html问题)